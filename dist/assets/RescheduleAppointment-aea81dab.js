import{R as b,aO as v,a1 as S,r as s,k as e,B as d,a2 as i}from"./index-7b89e187.js";import{A as j,T as N}from"./TimeSlotSelector-14a5f639.js";import{A}from"./arrow-left-21b83421.js";import"./subMonths-fac21a88.js";import"./chevron-left-669718cb.js";const k=()=>{const{id:l}=b(),c=v(),{rescheduleAppointment:m}=S(),[n,p]=s.useState(null),[t,x]=s.useState(new Date),[o,h]=s.useState(null),[u,r]=s.useState([]);s.useEffect(()=>{(async()=>{const a=await i.getAppointmentById(l);if(p(a),a){const w=await i.getAvailableSlots(new Date,a.consultantId);r(w)}})()},[l]),s.useEffect(()=>{n&&t&&(async()=>{const a=await i.getAvailableSlots(t,n.consultantId);r(a)})()},[t,n]);const f=async()=>{t&&o&&(await m(l,t.toISOString(),o),c("/espace-client/appointments"))};return n?e.jsxs("div",{className:"max-w-4xl mx-auto pt-6",children:[e.jsxs(d,{variant:"ghost",onClick:()=>c(-1),className:"mb-6 text-gray-400 hover:text-white pl-0",children:[e.jsx(A,{size:16,className:"mr-2"})," Retour"]}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-8",children:"Reporter le rendez-vous"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Nouvelle Date"}),e.jsx(j,{selectedDate:t,onSelect:x})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Nouvel Horaire"}),e.jsx("div",{className:"bg-[#111] p-6 rounded-xl border border-white/10 mb-6",children:e.jsx(N,{slots:u,selectedTime:o,onSelect:h})}),e.jsx(d,{className:"w-full bg-[#BFA76A] text-black font-bold hover:bg-white h-12",disabled:!o,onClick:f,children:"Confirmer le changement"})]})]})]}):e.jsx("div",{children:"Chargement..."})};export{k as default};
