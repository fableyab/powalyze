import{aO as o,a8 as c,r as l,k as t,bF as n}from"./index-b9d02c55.js";const d=()=>{const e=o(),{setUser:a}=c();return l.useEffect(()=>{(async()=>{try{if(!n){e("/login?error=auth%20non%20configuree");return}const{data:{session:r},error:s}=await n.auth.getSession();if(s){console.error("OAuth callback error:",s),e("/login?error="+encodeURIComponent(s.message));return}r!=null&&r.user?(a==null||a(r.user),e("/dashboard")):e("/login")}catch(r){console.error("Unexpected error in OAuth callback:",r),e("/login")}})()},[e,a]),t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#050505]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#BFA76A] mx-auto"}),t.jsx("p",{className:"text-white mt-4",children:"Logging you in..."})]})})};export{d as default};
