import{c as F,j as S,r as d,a8 as k,bE as z,aO as C,D as L,k as e,S as B,N as M,B as l,L as x,y as E,bF as u}from"./index-7b89e187.js";import{I as w}from"./input-8cdbed1f.js";import{S as H}from"./sparkles-f9f9c8aa.js";import{S as D}from"./shield-f9d7299f.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=F("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),q=()=>{const{t}=S(),[o,p]=d.useState(""),[h,f]=d.useState(""),[m,n]=d.useState(!1),{login:b,loginDemo:v}=k(),{login:j}=z(),r=C(),{toast:a}=L(),y=async s=>{s.preventDefault(),n(!0);try{console.log("Attempting email/password login for:",o),await b(o,h),a({title:t("login.successTitle","Login Successful"),description:t("login.successMessage","Welcome back!")}),setTimeout(()=>r("/dashboard"),500)}catch(i){console.error("Email login error:",i),a({variant:"destructive",title:t("login.errorTitle","Login Failed"),description:(i==null?void 0:i.message)||"Invalid credentials"})}finally{n(!1)}},N=async()=>{try{await j(),r("/dashboard")}catch{}},A=async()=>{n(!0);try{console.log("Starting demo login...");const s=await v();console.log("Demo login successful:",s),a({title:"Accès démo",description:"Compte démo connecté."}),setTimeout(()=>r("/espace-client"),500)}catch(s){console.error("Demo login error:",s),a({variant:"destructive",title:"Échec démo",description:(s==null?void 0:s.message)||"Impossible de créer le compte démo"})}finally{n(!1)}},c=async s=>{try{if(!u){a({variant:"destructive",title:"Configuration Error",description:"Authentication service not configured"});return}const{data:i,error:g}=await u.auth.signInWithOAuth({provider:s,options:{redirectTo:`${window.location.origin}/dashboard`,scopes:s==="azure"?"email openid profile User.Read":"email"}});if(g)throw g}catch(i){a({variant:"destructive",title:"Login Failed",description:i.message||`Failed to sign in with ${s}`})}};return e.jsxs("div",{className:"min-h-screen bg-[#0A0A0A] text-white flex flex-col",children:[e.jsx(B,{title:"Login - Powalyze",description:"Accédez à votre espace sécurisé."}),e.jsx(M,{}),e.jsx("main",{className:"flex-grow flex items-center justify-center py-20 px-6",children:e.jsxs("div",{className:"w-full max-w-md bg-[#111] border border-white/10 rounded-2xl p-8 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:t("login.title","Welcome Back")}),e.jsx("p",{className:"text-gray-400",children:t("login.subtitle","Enter your credentials to access your workspace.")})]}),e.jsxs("div",{className:"mb-6 space-y-3",children:[e.jsxs(l,{onClick:A,variant:"default",className:"w-full flex items-center justify-center gap-3 h-12 bg-[#BFA76A] text-black hover:bg-white font-bold",children:[e.jsx(H,{className:"w-5 h-5"}),t("login.demoAccess","Demo Access")]}),e.jsxs(l,{onClick:N,variant:"outline",className:"w-full flex items-center justify-center gap-3 h-12 border-white/20 hover:bg-white/5 bg-[#2F2F2F] text-white",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 23 23",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),e.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),e.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),e.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),t("login.azureButton","Sign in with Microsoft Azure AD")]}),e.jsxs(l,{onClick:()=>c("google"),variant:"outline",className:"w-full flex items-center justify-center gap-3 h-12 border-white/20 hover:bg-white/5 bg-[#2F2F2F] text-white",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),e.jsxs(l,{onClick:()=>c("github"),variant:"outline",className:"w-full flex items-center justify-center gap-3 h-12 border-white/20 hover:bg-white/5 bg-[#2F2F2F] text-white",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})}),"Sign in with GitHub"]}),e.jsxs(l,{onClick:()=>c("linkedin"),variant:"outline",className:"w-full flex items-center justify-center gap-3 h-12 border-white/20 hover:bg-white/5 bg-[#2F2F2F] text-white",children:[e.jsx("svg",{className:"w-5 h-5",fill:"#0A66C2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Sign in with LinkedIn"]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-white/10"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-[#111] px-2 text-gray-500",children:t("login.orContinue","Or continue with email")})})]})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:t("login.emailLabel","Email")}),e.jsx(w,{type:"email",value:o,onChange:s=>p(s.target.value),placeholder:"name@company.com",className:"bg-black border-white/20 focus:border-[#BFA76A]",required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:t("login.passwordLabel","Password")}),e.jsx(x,{to:"/forgot-password",className:"text-xs text-[#BFA76A] hover:underline",children:t("login.forgotPassword","Forgot password?")})]}),e.jsx(w,{type:"password",value:h,onChange:s=>f(s.target.value),placeholder:"••••••••",className:"bg-black border-white/20 focus:border-[#BFA76A]",required:!0})]}),e.jsx(l,{type:"submit",disabled:m,className:"w-full bg-[#BFA76A] text-black hover:bg-white font-bold h-11",children:m?t("common.loading","Signing in..."):t("login.submitButton","Sign In")})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-white/10 text-center",children:e.jsxs("p",{className:"text-gray-400 text-sm",children:[t("login.noAccount","Don't have an account?")," ",e.jsx(x,{to:"/signup",className:"text-[#BFA76A] font-bold hover:underline",children:t("login.signUp","Sign up")})]})}),e.jsxs("div",{className:"mt-4 flex justify-center gap-4 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{size:12})," Secure SSL"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{size:12})," Encrypted"]})]})]})}),e.jsx(E,{})]})};export{q as default};
