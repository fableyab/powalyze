import{c as f,j as A,D as S,r as d,k as e,S as k,B as x,T as D,ae as F,af as z,ag as T,ah as M,ai as P,aM as b}from"./index-b9d02c55.js";import{C as B,a as U,b as E,c as K,d as L}from"./card-4ece9c38.js";import{B as m}from"./badge-e8d49480.js";import{I as i}from"./input-4de0f759.js";import{L as c}from"./label-0071320e.js";import{G as R}from"./globe-14892b9b.js";import{D as O}from"./database-0f56ad4c.js";import{S as V}from"./shield-c9a8bffe.js";import{C as y}from"./circle-check-big-a5c92599.js";import{C as G}from"./circle-alert-f0f8eca5.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=f("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=f("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]),te=()=>{const{t}=A(),{toast:g}=S(),[w,p]=d.useState([{id:"api",name:"API REST",description:t("connectors.apiDescription","Connect to your custom REST API"),icon:R,status:"disconnected",color:"blue",config:{url:"",apiKey:"",method:"GET"}},{id:"sharepoint",name:"SharePoint",description:t("connectors.sharepointDescription","Connect to SharePoint lists and libraries"),icon:H,status:"disconnected",color:"green",config:{siteUrl:"",tenantId:"",clientId:"",clientSecret:""}},{id:"powerbi",name:"Power BI",description:t("connectors.powerbiDescription","Connect to your Power BI workspace"),icon:O,status:"disconnected",color:"yellow",config:{workspaceId:"",datasetId:"",clientId:"",clientSecret:""}}]),[a,h]=d.useState(null),[N,l]=d.useState(!1),[u,j]=d.useState(!1),n=(s,r)=>{h(o=>({...o,config:{...o.config,[s]:r}}))},v=async()=>{j(!0),setTimeout(()=>{g({title:t("toast.connectionEstablished","Connection Established"),description:t("connectors.connectionSuccess","Successfully connected to")+` ${a.name}`,className:"bg-[#111] border-white/10 text-white"}),p(s=>s.map(r=>r.id===a.id?{...r,status:"connected",config:a.config}:r)),j(!1),l(!1)},2e3)},C=s=>{p(r=>r.map(o=>o.id===s?{...o,status:"disconnected"}:o)),g({title:t("connectors.disconnected","Disconnected"),description:t("connectors.disconnectionSuccess","Connector has been disconnected"),variant:"default"})},I=s=>{switch(s){case"connected":return e.jsxs(m,{className:"bg-green-500/20 text-green-400 border-green-500/20",children:[e.jsx(y,{size:14,className:"mr-1"})," ",t("dataIntegration.connected","Connected")]});case"syncing":return e.jsxs(m,{className:"bg-blue-500/20 text-blue-400 border-blue-500/20",children:[e.jsx(b,{size:14,className:"mr-1 animate-spin"})," ",t("dataIntegration.analyzing","Syncing")]});default:return e.jsxs(m,{className:"bg-gray-500/20 text-gray-400 border-gray-500/20",children:[e.jsx(G,{size:14,className:"mr-1"})," ",t("connectors.disconnected","Disconnected")]})}};return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:t("connectors.pageTitle","Data Connectors"),description:t("connectors.pageDescription","Manage your data source connections")}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t("connectors.title","Data Connectors")}),e.jsx("p",{className:"text-gray-400",children:t("connectors.subtitle","Connect your business systems to Powalyze")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(s=>e.jsxs(B,{className:"bg-[#111] border-white/10 hover:border-[#BFA76A]/30 transition-all",children:[e.jsxs(U,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg bg-${s.color}-500/10 flex items-center justify-center`,children:e.jsx(s.icon,{size:24,className:`text-${s.color}-500`})}),I(s.status)]}),e.jsx(E,{className:"text-white",children:s.name}),e.jsx(K,{className:"text-gray-400",children:s.description})]}),e.jsx(L,{children:e.jsx("div",{className:"flex gap-2",children:s.status==="connected"?e.jsxs(e.Fragment,{children:[e.jsxs(x,{variant:"outline",size:"sm",className:"flex-1 border-white/10 text-white hover:bg-white/5",onClick:()=>{h(s),l(!0)},children:[e.jsx(D,{size:16,className:"mr-2"})," ",t("common.configure","Configure")]}),e.jsx(x,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",onClick:()=>C(s.id),children:t("connectors.disconnect","Disconnect")})]}):e.jsxs(x,{className:"w-full bg-[#BFA76A] text-black hover:bg-white font-bold",onClick:()=>{h(s),l(!0)},children:[e.jsx($,{size:16,className:"mr-2"})," ",t("connectors.connect","Connect")]})})})]},s.id))}),e.jsx(F,{open:N,onOpenChange:l,children:e.jsxs(z,{className:"bg-[#111] border-white/10 text-white max-w-md",children:[e.jsxs(T,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[(a==null?void 0:a.icon)&&e.jsx(a.icon,{size:20}),a==null?void 0:a.name," ",t("common.configure","Configuration")]}),e.jsx(P,{className:"text-gray-400",children:t("connectors.configDescription","Enter your connection details below")})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[(a==null?void 0:a.id)==="api"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiUrl",children:t("connectors.apiUrl","API URL")}),e.jsx(i,{id:"apiUrl",placeholder:"https://api.example.com",value:a.config.url,onChange:s=>n("url",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"apiKey",children:t("connectors.apiKey","API Key")}),e.jsx(i,{id:"apiKey",type:"password",placeholder:"••••••••••••••••",value:a.config.apiKey,onChange:s=>n("apiKey",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]})]}),(a==null?void 0:a.id)==="sharepoint"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"siteUrl",children:t("connectors.siteUrl","Site URL")}),e.jsx(i,{id:"siteUrl",placeholder:"https://yourcompany.sharepoint.com/sites/yoursite",value:a.config.siteUrl,onChange:s=>n("siteUrl",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"tenantId",children:t("connectors.tenantId","Tenant ID")}),e.jsx(i,{id:"tenantId",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",value:a.config.tenantId,onChange:s=>n("tenantId",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientId",children:t("connectors.clientId","Client ID")}),e.jsx(i,{id:"clientId",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",value:a.config.clientId,onChange:s=>n("clientId",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clientSecret",children:t("connectors.clientSecret","Client Secret")}),e.jsx(i,{id:"clientSecret",type:"password",placeholder:"••••••••••••••••",value:a.config.clientSecret,onChange:s=>n("clientSecret",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]})]}),(a==null?void 0:a.id)==="powerbi"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"workspaceId",children:t("connectors.workspaceId","Workspace ID")}),e.jsx(i,{id:"workspaceId",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",value:a.config.workspaceId,onChange:s=>n("workspaceId",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"datasetId",children:t("connectors.datasetId","Dataset ID")}),e.jsx(i,{id:"datasetId",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",value:a.config.datasetId,onChange:s=>n("datasetId",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pbiClientId",children:t("connectors.clientId","Client ID")}),e.jsx(i,{id:"pbiClientId",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",value:a.config.clientId,onChange:s=>n("clientId",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pbiClientSecret",children:t("connectors.clientSecret","Client Secret")}),e.jsx(i,{id:"pbiClientSecret",type:"password",placeholder:"••••••••••••••••",value:a.config.clientSecret,onChange:s=>n("clientSecret",s.target.value),className:"bg-[#0A0A0A] border-white/10 text-white"})]})]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[e.jsx(V,{size:16,className:"text-blue-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-blue-300",children:t("connectors.securityNotice","Your credentials are encrypted and securely stored")})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end border-t border-white/10 pt-4",children:[e.jsx(x,{variant:"ghost",onClick:()=>l(!1),className:"text-gray-400 hover:text-white",children:t("common.cancel","Cancel")}),e.jsx(x,{className:"bg-[#BFA76A] text-black hover:bg-white font-bold",onClick:v,disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsx(b,{size:16,className:"mr-2 animate-spin"}),t("connectors.testing","Testing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{size:16,className:"mr-2"}),t("common.testConnection","Test Connection")]})})]})]})})]})]})};export{te as default};
