import{c as b,k as e,U as g,K as p,L as d,B as t,a1 as v,a8 as f,r as N}from"./index-b9d02c55.js";import{T as w,a as A,b as c,c as r}from"./tabs-ac9ef67b.js";import{B as y}from"./badge-e8d49480.js";import{C as m}from"./calendar-3c3618b6.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=b("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),i=({appointment:a,onCancel:o})=>{const x=new Date(a.date)>new Date;return e.jsxs("div",{className:"bg-[#111] border border-white/10 rounded-xl p-6 hover:border-[#BFA76A]/30 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:a.serviceName}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#BFA76A]",children:[e.jsx(g,{size:14}),e.jsx("span",{children:a.consultantName})]})]}),e.jsx(y,{variant:a.status==="cancelled"?"destructive":"outline",className:"uppercase text-[10px]",children:a.status})]}),e.jsxs("div",{className:"flex gap-4 mb-6 text-sm text-gray-400 bg-[#1A1A1A] p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{size:16}),e.jsx("span",{children:new Date(a.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{size:16}),e.jsxs("span",{children:[a.time," (",a.duration," min)"]})]})]}),e.jsx("div",{className:"flex gap-2",children:a.status!=="cancelled"&&x&&e.jsxs(e.Fragment,{children:[e.jsx(d,{to:`/espace-client/reschedule/${a.id}`,className:"flex-1",children:e.jsx(t,{variant:"outline",size:"sm",className:"w-full border-white/10",children:"Reporter"})}),e.jsx(d,{to:`/espace-client/cancel/${a.id}`,className:"flex-1",children:e.jsx(t,{variant:"outline",size:"sm",className:"w-full border-white/10 hover:text-red-500 hover:border-red-900 hover:bg-red-900/10",children:"Annuler"})}),e.jsxs(t,{size:"sm",className:"bg-[#BFA76A] text-black font-bold hover:bg-white",children:[e.jsx(z,{size:14,className:"mr-2"})," Rejoindre"]})]})})]})},L=()=>{const{appointments:a,loadAppointments:o,loading:x,cancelAppointment:h}=v(),{user:l}=f();N.useEffect(()=>{l&&o(l.id)},[l]);const n=a.filter(s=>new Date(s.date)>=new Date&&s.status!=="cancelled"),u=a.filter(s=>new Date(s.date)<new Date&&s.status!=="cancelled"),j=a.filter(s=>s.status==="cancelled");return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-white",children:"Mes Rendez-vous"}),e.jsx(d,{to:"/appointment-booking",children:e.jsxs(t,{className:"bg-[#BFA76A] text-black hover:bg-white font-bold",children:[e.jsx(m,{size:16,className:"mr-2"})," Nouveau Rendez-vous"]})})]}),e.jsxs(w,{defaultValue:"upcoming",className:"w-full",children:[e.jsxs(A,{className:"bg-[#111] border border-white/10 p-1 mb-6",children:[e.jsxs(c,{value:"upcoming",children:["À venir (",n.length,")"]}),e.jsx(c,{value:"past",children:"Passés"}),e.jsx(c,{value:"cancelled",children:"Annulés"})]}),e.jsx(r,{value:"upcoming",className:"space-y-4",children:n.length>0?n.map(s=>e.jsx(i,{appointment:s,onCancel:()=>h(s.id)},s.id)):e.jsx("div",{className:"text-center py-12 text-gray-500 bg-[#111] rounded-xl border border-white/10",children:"Aucun rendez-vous à venir."})}),e.jsx(r,{value:"past",className:"space-y-4",children:u.map(s=>e.jsx(i,{appointment:s},s.id))}),e.jsx(r,{value:"cancelled",className:"space-y-4",children:j.map(s=>e.jsx(i,{appointment:s},s.id))})]})]})};export{L as default};
