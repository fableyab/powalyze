import{j as f,R as N,a8 as y,aO as v,D as P,r as t,k as e,J as k,N as L,l as S,B as A,E as C,y as E}from"./index-b9d02c55.js";import{I as d}from"./input-4de0f759.js";import{L as x}from"./label-0071320e.js";import{L as m}from"./lock-b5bcf7e9.js";const D=()=>{const{t:s}=f(),{token:u}=N(),{confirmPasswordReset:h}=y(),p=v(),{toast:w}=P(),[r,b]=t.useState(""),[o,g]=t.useState(""),[i,c]=t.useState(!1),[n,l]=t.useState(""),j=async a=>{if(a.preventDefault(),l(""),r!==o){l(s("auth.errorPasswordNoMatch"));return}c(!0);try{await h(u,r),w({title:s("auth.successReset"),description:"You can now login with your new password."}),p("/login")}catch{l("Failed to reset password. Token may be invalid.")}finally{c(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsxs("title",{children:[s("auth.resetPassword")," | Powalyze"]})}),e.jsxs("div",{className:"min-h-screen bg-[#0A0A0A] flex flex-col",children:[e.jsx(L,{}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:e.jsx(S.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-[#111]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-display font-bold text-white mb-2",children:s("auth.resetPassword")}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Create a strong new password"})]}),n&&e.jsx("div",{className:"bg-red-900/20 text-red-200 px-4 py-3 rounded-lg mb-6 text-sm text-center",children:n}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(x,{className:"text-gray-300 text-xs uppercase tracking-wider",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-3 w-5 h-5 text-gray-500"}),e.jsx(d,{type:"password",placeholder:"••••••••",className:"pl-10 bg-black/50 border-white/10 text-white",value:r,onChange:a=>b(a.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(x,{className:"text-gray-300 text-xs uppercase tracking-wider",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-3 w-5 h-5 text-gray-500"}),e.jsx(d,{type:"password",placeholder:"••••••••",className:"pl-10 bg-black/50 border-white/10 text-white",value:o,onChange:a=>g(a.target.value),required:!0})]})]}),e.jsx(A,{type:"submit",disabled:i,className:"w-full bg-[#BFA76A] text-black hover:bg-[#d4be83] font-bold mt-4",children:i?e.jsx(C,{className:"animate-spin"}):s("auth.resetButton")})]})]})})}),e.jsx(E,{})]})]})};export{D as default};
