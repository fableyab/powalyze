import{j as z,D as F,r as o,aI as E,aJ as R,aK as O,k as t,l as n,C as $,F as S,a0 as M,aL as T}from"./index-7b89e187.js";import{u as _}from"./ClientContext-770d4aba.js";import{I as H}from"./input-8cdbed1f.js";import{S as W}from"./search-2ad02d4c.js";import{C as G}from"./chevron-left-669718cb.js";const V=()=>{const{documents:A}=_(),{language:a}=z(),{toast:g}=F(),[u,D]=o.useState(""),[p,N]=o.useState("all"),[d,f]=o.useState(null),s=o.useRef(null),[x,C]=o.useState(!1),[b,L]=o.useState(!1),[y,w]=o.useState(()=>{try{return sessionStorage.getItem("documentsCatScrollHint")!=="seen"}catch{return!0}}),h=()=>{const e=s.current;if(e&&(C(e.scrollLeft>0),L(e.scrollLeft+e.clientWidth<e.scrollWidth-1),y&&e.scrollLeft>0)){w(!1);try{sessionStorage.setItem("documentsCatScrollHint","seen")}catch{}}};o.useEffect(()=>{const e=s.current;if(!e)return;h();const r=()=>h();e.addEventListener("scroll",r,{passive:!0});const l=()=>h();return window.addEventListener("resize",l),()=>{e.removeEventListener("scroll",r),window.removeEventListener("resize",l)}},[]);const v=[{id:"pmo-guide",name:"PMO_Strategique_Guide.pdf",type:"PDF",size:"3.5 MB",date:new Date().toISOString(),category:"Méthodologie",owner:"POWALYZE",generator:E,description:a==="fr"?"Guide complet du PMO Stratégique avec méthodologie et roadmap":a==="en"?"Complete Strategic PMO guide with methodology and roadmap":"Vollständiger Leitfaden zum strategischen PMO mit Methodik und Roadmap"},{id:"dataBI-guide",name:"Data_PowerBI_Guide.pdf",type:"PDF",size:"2.8 MB",date:new Date().toISOString(),category:"Technologie",owner:"POWALYZE",generator:R,description:a==="fr"?"Architecture data et dashboards Power BI avec best practices":a==="en"?"Data architecture and Power BI dashboards with best practices":"Datenarchitektur und Power BI-Dashboards mit Best Practices"},{id:"automation-guide",name:"Automation_IA_Guide.pdf",type:"PDF",size:"3.2 MB",date:new Date().toISOString(),category:"Innovation",owner:"POWALYZE",generator:O,description:a==="fr"?"Guide complet sur l'automatisation RPA et les solutions IA":a==="en"?"Complete guide on RPA automation and AI solutions":"Vollständiger Leitfaden zu RPA-Automatisierung und KI-Lösungen"},...A],P=["all",...new Set(v.map(e=>e.category))],B=async e=>{f(e.id);try{if(await new Promise(r=>setTimeout(r,500)),e.generator){const r=e.generator(a);T(r,e.name)}else{const r=(e.name.split(".").pop()||"").toLowerCase(),m={pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",txt:"text/plain"}[r]||"application/octet-stream",I=`POWALYZE
Document placeholder for: ${e.name}
Type: ${e.type}
Category: ${e.category||"N/A"}
Date: ${new Date().toISOString()}
`,k=new Blob([I],{type:m}),j=URL.createObjectURL(k),c=document.createElement("a");c.href=j,c.download=e.name,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(j)}g({title:a==="fr"?"Succès":a==="en"?"Success":"Erfolg",description:a==="fr"?`${e.name} téléchargé avec succès.`:a==="en"?`${e.name} downloaded successfully.`:`${e.name} erfolgreich heruntergeladen.`})}catch(r){console.error("Download error:",r),g({title:a==="fr"?"Erreur":a==="en"?"Error":"Fehler",description:a==="fr"?"Une erreur s'est produite lors du téléchargement.":a==="en"?"An error occurred during download.":"Beim Download ist ein Fehler aufgetreten.",variant:"destructive"})}finally{f(null)}},i=v.filter(e=>{var m;const r=e.name.toLowerCase().includes(u.toLowerCase())||((m=e.description)==null?void 0:m.toLowerCase().includes(u.toLowerCase())),l=p==="all"||e.category===p;return r&&l});return t.jsxs("div",{className:"space-y-8",children:[t.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-white mb-2",children:a==="fr"||a==="en"?"Documents":"Dokumente"}),t.jsx("p",{className:"text-gray-400",children:a==="fr"?`${i.length} documents disponibles`:a==="en"?`${i.length} documents available`:`${i.length} Dokumente verfügbar`})]})}),t.jsxs(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),t.jsx(H,{placeholder:a==="fr"?"Rechercher un document...":a==="en"?"Search for a document...":"Nach einem Dokument suchen...",className:"pl-10 bg-[#111] border-white/10 text-white focus:border-[#BFA76A]",value:u,onChange:e=>D(e.target.value)})]}),t.jsxs("div",{className:"relative w-full md:max-w-[60%]",children:[y&&t.jsxs("div",{className:"absolute -top-7 right-0 z-10 text-xs text-gray-300 bg-[#111]/80 px-2 py-1 rounded border border-white/10 shadow-sm flex items-center gap-2",children:[t.jsx("span",{children:a==="fr"?"Glissez pour voir plus":a==="de"?"Zum Anzeigen wischen":"Swipe to see more"}),t.jsx("button",{type:"button","aria-label":"Dismiss hint",onClick:()=>{w(!1);try{sessionStorage.setItem("documentsCatScrollHint","seen")}catch{}},className:"text-gray-400 hover:text-white",children:"×"})]}),x&&t.jsx("div",{className:"pointer-events-none absolute left-0 top-0 h-full w-8 bg-gradient-to-r from-[#0A0A0A] to-transparent"}),b&&t.jsx("div",{className:"pointer-events-none absolute right-0 top-0 h-full w-8 bg-gradient-to-l from-[#0A0A0A] to-transparent"}),t.jsx("button",{type:"button","aria-label":"Scroll left",onClick:()=>{var e;(e=s.current)==null||e.scrollBy({left:-200,behavior:"smooth"})},className:`absolute left-1 top-1/2 -translate-y-1/2 z-10 rounded-full p-1.5 bg-[#111]/80 backdrop-blur border border-white/10 text-gray-300 hover:text-white hover:bg-[#1a1a1a]/90 transition ${x?"opacity-100":"opacity-0 pointer-events-none"}`,children:t.jsx(G,{size:16})}),t.jsx("button",{type:"button","aria-label":"Scroll right",onClick:()=>{var e;(e=s.current)==null||e.scrollBy({left:200,behavior:"smooth"})},className:`absolute right-1 top-1/2 -translate-y-1/2 z-10 rounded-full p-1.5 bg-[#111]/80 backdrop-blur border border-white/10 text-gray-300 hover:text-white hover:bg-[#1a1a1a]/90 transition ${b?"opacity-100":"opacity-0 pointer-events-none"}`,children:t.jsx($,{size:16})}),t.jsx("div",{ref:s,className:"overflow-x-auto whitespace-nowrap scrollbar-auto pr-2",children:t.jsx("div",{className:"inline-flex gap-2",children:P.map(e=>t.jsx(n.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N(e),className:`px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${p===e?"bg-[#BFA76A] text-black":"bg-[#222] text-gray-300 hover:bg-[#333]"}`,children:e==="all"?a==="fr"?"Tous":a==="en"?"All":"Alle":e},e))})})]})]}),t.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((e,r)=>t.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},whileHover:{y:-5},className:"relative bg-[#111] border border-white/10 hover:border-[#BFA76A]/50 rounded-xl overflow-hidden group transition-all duration-300",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#BFA76A]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),t.jsxs("div",{className:"relative z-10 p-6 h-full flex flex-col",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-[#BFA76A] to-[#9d8658] flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:t.jsx(S,{size:24,className:"text-white"})}),t.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-[#222] text-[#BFA76A]",children:e.type})]}),t.jsxs("div",{className:"flex-grow mb-4",children:[t.jsx("h3",{className:"text-base font-bold text-white mb-2 line-clamp-2",children:e.name.replace(".pdf","").replace(/_/g," ")}),t.jsx("p",{className:"text-gray-400 text-sm leading-relaxed line-clamp-3",children:e.description||(a==="fr"?"Document professionnel":a==="en"?"Professional document":"Berufliches Dokument")})]}),t.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/5",children:[t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsx("span",{children:e.size}),t.jsx("span",{className:"bg-[#222] px-2 py-1 rounded text-xs border border-white/5",children:e.category})]}),t.jsxs(n.button,{onClick:()=>B(e),disabled:d===e.id,whileHover:{scale:d===e.id?1:1.02},whileTap:{scale:.95},className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-bold transition-all ${d===e.id?"bg-gray-600 text-white cursor-not-allowed":"bg-[#BFA76A] text-black hover:bg-white"}`,children:[t.jsx(M,{size:16}),d===e.id?a==="fr"?"Téléchargement...":a==="en"?"Downloading...":"Wird heruntergeladen...":a==="fr"?"Télécharger":a==="en"?"Download":"Herunterladen"]})]})]})]},e.id))}),i.length===0&&t.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[t.jsx(S,{size:48,className:"mx-auto text-gray-600 mb-4"}),t.jsx("p",{className:"text-gray-400",children:a==="fr"?"Aucun document trouvé.":a==="en"?"No documents found.":"Keine Dokumente gefunden."})]})]})};export{V as default};
