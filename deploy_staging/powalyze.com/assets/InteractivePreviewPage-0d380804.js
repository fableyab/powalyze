import{ak as pe,al as ge,r as u,aF as be,k as e,ap as R,an as M,aE as ve,aj as _,bO as Se,aB as je,aH as we,N as ye,L as Ae,B as Pe,aM as Ne,bI as Ce,aR as T,aS as Re,aT as W,aU as X,aV as Q,aW as L,aY as G,aZ as De,aX as ke,y as Ee}from"./index-7b89e187.js";import{c as q}from"./index-d203b311.js";import{P as Be}from"./PDFExportButton-0c471904.js";import{A as Me}from"./arrow-left-21b83421.js";import{S as _e}from"./sliders-vertical-ae8fe337.js";import{C as Fe}from"./chart-pie-7b1ab70d.js";import{P as Ke,a as Ve,L as Z}from"./PieChart-2dc8bd46.js";import{L as Ie}from"./LineChart-b37880cd.js";import"./html2canvas.esm-e0a7d97b.js";var J=["PageUp","PageDown"],ee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],te={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},D="Slider",[z,Te,Le]=pe(D),[re,mt]=ge(D,[Le]),[ze,F]=re(D),se=u.forwardRef((t,r)=>{const{name:s,min:n=0,max:i=100,step:l=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:x=[n],value:j,onValueChange:d=()=>{},onValueCommit:m=()=>{},inverted:b=!1,form:w,...g}=t,h=u.useRef(new Set),f=u.useRef(0),v=a==="horizontal"?He:Oe,[p=[],k]=be({prop:j,defaultProp:x,onChange:S=>{var N;(N=[...h.current][f.current])==null||N.focus(),d(S)}}),K=u.useRef(p);function V(S){const y=Xe(p,S);E(S,y)}function xe(S){E(S,f.current)}function he(){const S=K.current[f.current];p[f.current]!==S&&m(p)}function E(S,y,{commit:N}={commit:!1}){const U=qe(l),I=Je(Math.round((S-n)/l)*l+n,U),B=q(I,[n,i]);k((C=[])=>{const A=$e(C,B,y);if(Ze(A,c*l)){f.current=A.indexOf(B);const $=String(A)!==String(C);return $&&N&&m(A),$?A:C}else return C})}return e.jsx(ze,{scope:t.__scopeSlider,name:s,disabled:o,min:n,max:i,valueIndexToChangeRef:f,thumbs:h.current,values:p,orientation:a,form:w,children:e.jsx(z.Provider,{scope:t.__scopeSlider,children:e.jsx(z.Slot,{scope:t.__scopeSlider,children:e.jsx(v,{"aria-disabled":o,"data-disabled":o?"":void 0,...g,ref:r,onPointerDown:R(g.onPointerDown,()=>{o||(K.current=p)}),min:n,max:i,inverted:b,onSlideStart:o?void 0:V,onSlideMove:o?void 0:xe,onSlideEnd:o?void 0:he,onHomeKeyDown:()=>!o&&E(n,0,{commit:!0}),onEndKeyDown:()=>!o&&E(i,p.length-1,{commit:!0}),onStepKeyDown:({event:S,direction:y})=>{if(!o){const I=J.includes(S.key)||S.shiftKey&&ee.includes(S.key)?10:1,B=f.current,C=p[B],A=l*I*y;E(C+A,B,{commit:!0})}}})})})})});se.displayName=D;var[ne,oe]=re(D,{startEdge:"left",endEdge:"right",size:"width",direction:1}),He=u.forwardRef((t,r)=>{const{min:s,max:n,dir:i,inverted:l,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:x,...j}=t,[d,m]=u.useState(null),b=M(r,v=>m(v)),w=u.useRef(void 0),g=ve(i),h=g==="ltr",f=h&&!l||!h&&l;function P(v){const p=w.current||d.getBoundingClientRect(),k=[0,p.width],V=Y(k,f?[s,n]:[n,s]);return w.current=p,V(v-p.left)}return e.jsx(ne,{scope:t.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:e.jsx(ae,{dir:g,"data-orientation":"horizontal",...j,ref:b,style:{...j.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const p=P(v.clientX);a==null||a(p)},onSlideMove:v=>{const p=P(v.clientX);o==null||o(p)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:v=>{const k=te[f?"from-left":"from-right"].includes(v.key);x==null||x({event:v,direction:k?-1:1})}})})}),Oe=u.forwardRef((t,r)=>{const{min:s,max:n,inverted:i,onSlideStart:l,onSlideMove:a,onSlideEnd:o,onStepKeyDown:c,...x}=t,j=u.useRef(null),d=M(r,j),m=u.useRef(void 0),b=!i;function w(g){const h=m.current||j.current.getBoundingClientRect(),f=[0,h.height],v=Y(f,b?[n,s]:[s,n]);return m.current=h,v(g-h.top)}return e.jsx(ne,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:e.jsx(ae,{"data-orientation":"vertical",...x,ref:d,style:{...x.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const h=w(g.clientY);l==null||l(h)},onSlideMove:g=>{const h=w(g.clientY);a==null||a(h)},onSlideEnd:()=>{m.current=void 0,o==null||o()},onStepKeyDown:g=>{const f=te[b?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:f?-1:1})}})})}),ae=u.forwardRef((t,r)=>{const{__scopeSlider:s,onSlideStart:n,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...x}=t,j=F(D,s);return e.jsx(_.span,{...x,ref:r,onKeyDown:R(t.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(o(d),d.preventDefault()):J.concat(ee).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:R(t.onPointerDown,d=>{const m=d.target;m.setPointerCapture(d.pointerId),d.preventDefault(),j.thumbs.has(m)?m.focus():n(d)}),onPointerMove:R(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:R(t.onPointerUp,d=>{const m=d.target;m.hasPointerCapture(d.pointerId)&&(m.releasePointerCapture(d.pointerId),l(d))})})}),ie="SliderTrack",le=u.forwardRef((t,r)=>{const{__scopeSlider:s,...n}=t,i=F(ie,s);return e.jsx(_.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:r})});le.displayName=ie;var H="SliderRange",ce=u.forwardRef((t,r)=>{const{__scopeSlider:s,...n}=t,i=F(H,s),l=oe(H,s),a=u.useRef(null),o=M(r,a),c=i.values.length,x=i.values.map(m=>ue(m,i.min,i.max)),j=c>1?Math.min(...x):0,d=100-Math.max(...x);return e.jsx(_.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:o,style:{...t.style,[l.startEdge]:j+"%",[l.endEdge]:d+"%"}})});ce.displayName=H;var O="SliderThumb",de=u.forwardRef((t,r)=>{const s=Te(t.__scopeSlider),[n,i]=u.useState(null),l=M(r,o=>i(o)),a=u.useMemo(()=>n?s().findIndex(o=>o.ref.current===n):-1,[s,n]);return e.jsx(Ye,{...t,ref:l,index:a})}),Ye=u.forwardRef((t,r)=>{const{__scopeSlider:s,index:n,name:i,...l}=t,a=F(O,s),o=oe(O,s),[c,x]=u.useState(null),j=M(r,P=>x(P)),d=c?a.form||!!c.closest("form"):!0,m=Se(c),b=a.values[n],w=b===void 0?0:ue(b,a.min,a.max),g=We(n,a.values.length),h=m==null?void 0:m[o.size],f=h?Qe(h,w,o.direction):0;return u.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${w}% + ${f}px)`},children:[e.jsx(z.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(_.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":b,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...l,ref:j,style:b===void 0?{display:"none"}:t.style,onFocus:R(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),d&&e.jsx(Ue,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:b},n)]})});de.displayName=O;var Ue=t=>{const{value:r,...s}=t,n=u.useRef(null),i=je(r);return u.useEffect(()=>{const l=n.current,a=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==r&&c){const x=new Event("input",{bubbles:!0});c.call(l,r),l.dispatchEvent(x)}},[i,r]),e.jsx("input",{style:{display:"none"},...s,ref:n,defaultValue:r})};function $e(t=[],r,s){const n=[...t];return n[s]=r,n.sort((i,l)=>i-l)}function ue(t,r,s){const l=100/(s-r)*(t-r);return q(l,[0,100])}function We(t,r){return r>2?`Value ${t+1} of ${r}`:r===2?["Minimum","Maximum"][t]:void 0}function Xe(t,r){if(t.length===1)return 0;const s=t.map(i=>Math.abs(i-r)),n=Math.min(...s);return s.indexOf(n)}function Qe(t,r,s){const n=t/2,l=Y([0,50],[0,n]);return(n-l(r)*s)*s}function Ge(t){return t.slice(0,-1).map((r,s)=>t[s+1]-r)}function Ze(t,r){if(r>0){const s=Ge(t);return Math.min(...s)>=r}return!0}function Y(t,r){return s=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(t[1]-t[0]);return r[0]+n*(s-t[0])}}function qe(t){return(String(t).split(".")[1]||"").length}function Je(t,r){const s=Math.pow(10,r);return Math.round(t*s)/s}var me=se,et=le,tt=ce,rt=de;const fe=u.forwardRef(({className:t,...r},s)=>e.jsxs(me,{ref:s,className:we("relative flex w-full touch-none select-none items-center",t),...r,children:[e.jsx(et,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(tt,{className:"absolute h-full bg-primary"})}),e.jsx(rt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));fe.displayName=me.displayName;const ft=()=>{const[t,r]=u.useState([50]),[s,n]=u.useState("All"),l=(o=>{const c=o/50;return[{name:"Q1",sales:4e3*c,target:4500},{name:"Q2",sales:3e3*c,target:3500},{name:"Q3",sales:6e3*c,target:5500},{name:"Q4",sales:8e3*c,target:7500}]})(t[0]),a=[{name:"Enterprise",value:45*(t[0]/50),color:"#3A7BFF"},{name:"SMB",value:30,color:"#BFA76A"},{name:"Consumer",value:25,color:"#10B981"}];return e.jsxs("div",{className:"min-h-screen bg-[#0A0A0A] text-white font-sans",children:[e.jsx(ye,{}),e.jsxs("main",{className:"pt-32 pb-20 container mx-auto px-6",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs(Ae,{to:"/pmo-demo",className:"text-gray-400 hover:text-white flex items-center gap-2 text-sm mb-4 transition-colors",children:[e.jsx(Me,{size:14})," Retour PMO Demo"]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-display font-bold text-white mb-2",children:["Interactive ",e.jsx("span",{className:"text-[#BFA76A]",children:"Preview"})]}),e.jsx("p",{className:"text-gray-400 max-w-2xl",children:"Expérimentez la réactivité de nos tableaux de bord. Modifiez les paramètres pour voir les projections en temps réel."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Pe,{variant:"outline",onClick:()=>r([50]),className:"border-white/10 hover:bg-white/5 text-white",children:[e.jsx(Ne,{size:16,className:"mr-2"})," Réinitialiser"]}),e.jsx(Be,{targetId:"interactive-preview-content",label:"Exporter PDF",className:"bg-[#BFA76A] text-black hover:bg-white border-none"})]})]})]}),e.jsx("div",{id:"interactive-preview-content",className:"bg-[#0A0A0A] p-4 -m-4 rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"bg-[#111] border border-white/10 rounded-xl p-6",children:[e.jsxs("h3",{className:"font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(_e,{size:18,className:"text-[#BFA76A]"})," Contrôles"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Ajustement Budget (%)"}),e.jsx(fe,{defaultValue:[50],max:100,step:1,value:t,onValueChange:r,className:"py-4"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"0%"}),e.jsxs("span",{className:"text-[#BFA76A] font-bold",children:[t[0],"%"]}),e.jsx("span",{children:"100%"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Segment"}),["All","Enterprise","SMB","Consumer"].map(o=>e.jsx("button",{onClick:()=>n(o),className:`w-full text-left px-4 py-2 rounded text-sm transition-all ${s===o?"bg-[#BFA76A] text-black font-bold":"bg-black/20 text-gray-400 hover:bg-white/5"}`,children:o},o))]})]}),e.jsxs("div",{className:"bg-[#111] border border-white/10 rounded-xl p-6 text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Total Prévisionnel"}),e.jsxs("div",{className:"text-3xl font-bold text-white",children:["CHF ",Math.floor(l.reduce((o,c)=>o+c.sales,0)).toLocaleString()]})]})]}),e.jsxs("div",{className:"lg:col-span-9 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-[#111] border border-white/10 rounded-xl p-6 h-[400px]",children:[e.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Ce,{size:18,className:"text-[#3A7BFF]"})," Projections des Ventes"]}),e.jsx(T,{width:"100%",height:"90%",children:e.jsxs(Re,{data:l,children:[e.jsx(W,{strokeDasharray:"3 3",stroke:"#222",vertical:!1}),e.jsx(X,{dataKey:"name",stroke:"#666"}),e.jsx(Q,{stroke:"#666"}),e.jsx(L,{contentStyle:{backgroundColor:"#1A1A1A",borderColor:"#333",color:"#fff"}}),e.jsx(G,{dataKey:"sales",fill:"#BFA76A",radius:[4,4,0,0]}),e.jsx(G,{dataKey:"target",fill:"#333",radius:[4,4,0,0]})]})})]}),e.jsxs("div",{className:"bg-[#111] border border-white/10 rounded-xl p-6 h-[400px]",children:[e.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(Fe,{size:18,className:"text-[#10B981]"})," Distribution par Segment"]}),e.jsx(T,{width:"100%",height:"90%",children:e.jsxs(Ke,{children:[e.jsx(Ve,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:a.map((o,c)=>e.jsx(De,{fill:o.color},`cell-${c}`))}),e.jsx(L,{contentStyle:{backgroundColor:"#1A1A1A",borderColor:"#333",color:"#fff"}}),e.jsx(ke,{verticalAlign:"bottom"})]})})]}),e.jsxs("div",{className:"md:col-span-2 bg-[#111] border border-white/10 rounded-xl p-6 h-[300px]",children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Analyse de Tendance (Live)"}),e.jsx(T,{width:"100%",height:"85%",children:e.jsxs(Ie,{data:l,children:[e.jsx(W,{strokeDasharray:"3 3",stroke:"#222",vertical:!1}),e.jsx(X,{dataKey:"name",stroke:"#666"}),e.jsx(Q,{stroke:"#666"}),e.jsx(L,{contentStyle:{backgroundColor:"#1A1A1A",borderColor:"#333",color:"#fff"}}),e.jsx(Z,{type:"monotone",dataKey:"sales",stroke:"#BFA76A",strokeWidth:3,dot:{r:6}}),e.jsx(Z,{type:"monotone",dataKey:"target",stroke:"#3A7BFF",strokeWidth:2,strokeDasharray:"5 5"})]})})]})]})]})})]}),e.jsx(Ee,{})]})};export{ft as default};
